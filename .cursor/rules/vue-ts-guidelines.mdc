---
globs: src/**/*.ts,src/**/*.vue
description: Vue 3 + TypeScript 编码约定与最佳实践
---
### 组件与脚本

- 使用 `<script setup lang="ts">`；避免在同一组件中混用多种风格。
- 使用组合式 API，优先自动导入（参考 Vite AutoImport 配置）。
- 组件名使用大写驼峰，文件名与组件名一致，例如 `UserCard.vue`。
- 组件对外 props、emits 明确声明类型；避免 `any`。

### 类型与工具

- 启用严格类型（参见 `tsconfig.app.json`），避免 `any`、不必要的断言。
- 通过路径别名 `@/` 引入内部模块；避免深层相对路径。
- `src/types/` 存放全局类型与 `.d.ts` 声明文件。

### 逻辑组织

- 页面组件置于 `src/pages`，普通 UI 组件置于 `src/components`。
- 将可复用业务逻辑抽取为 `useXxx` 形式的组合函数。
- 避免深层嵌套；优先早返回以减少条件分支复杂度。

### 风格与可维护性

- 禁止无处理地捕获异常；仅在需要的边界添加 try/catch 并进行处理。
- 仅为非显而易见的代码编写注释（意图、约束、边界条件）。
- 遵循 ESLint 规则与自动修复（见《代码风格与 ESLint》）。

